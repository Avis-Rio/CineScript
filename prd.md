# 图片字幕生成器 - 产品需求文档 (PRD)

## 1. 产品概述

**图片字幕生成器**是一个简单易用的Web应用，允许用户上传图片或使用随机图片，添加多行字幕，调整字幕样式，并保存生成的图像。该应用采用现代化的用户界面设计，遵循美观的莫兰迪配色方案，以提供良好的用户体验。

### 1.1 产品目标

- 提供一个简单直观的工具，使用户能够快速为图片添加字幕
- 支持自定义字幕的各种样式属性
- 为用户提供实时预览功能
- 提供多种方式获取图片素材

### 1.2 目标用户

- 社交媒体内容创作者
- 需要制作表情包的普通用户
- 需要制作简单图文组合的营销人员
- 教育工作者和学生

## 2. 功能规格

### 2.1 基本功能

#### 2.1.1 图片管理
- 用户可以从本地设备上传图片
- 提供随机图片功能，点击后通过弹窗引导用户前往Unsplash选择图片
- 支持在预览区域显示图片

#### 2.1.2 字幕编辑
- 用户可以添加多行字幕文本
- 字幕显示在图片底部
- 每行字幕自动添加半透明背景，提高可读性
- 字幕行之间使用细分割线分隔，无间隙

#### 2.1.3 字幕样式调整
- 支持调整字幕高度
- 支持调整字体大小
- 支持更改字体颜色
- 支持更改字体轮廓颜色
- 支持选择不同字体类型
- 支持选择字体粗细（正常、粗体、细体）

#### 2.1.4 实时预览
- 样式调整实时更新在预览区域
- 字幕样式变化实时反映

#### 2.1.5 保存功能
- 用户可以将生成的图片保存到本地设备
- 导出格式为JPG，高质量
- 导出图片包含所有字幕和水印

### 2.2 设计规范

#### 2.2.1 整体布局
- 左侧控制面板，右侧预览区域
- 水平布局，适合桌面设备
- 在移动设备上自动切换为垂直布局

#### 2.2.2 颜色方案
- 采用莫兰迪配色方案
  - 主色: #A6B1A9（灰绿色）
  - 次要色: #B7A99A（暖灰色）
  - 背景色: #F1F0EB（浅米色）
  - 文字色: #3F4E4F（深灰绿色）
  - 轻文字色: #647476（灰蓝色）

#### 2.2.3 字幕设计
- 字幕使用半透明黑色背景（55%不透明度）
- 字幕行之间使用细分割线（15%不透明度的白色）连接，无间隙
- 字幕文字垂直居中于背景条
- 支持文字轮廓，增强在各种背景下的可读性

#### 2.2.4 水印设计
- 右下角显示"@Avis"水印
- 使用毛玻璃效果，半透明背景
- 水印尺寸适中，不影响整体视觉效果
- 不透明度设置为70%

## 3. 用户界面

### 3.1 界面组件

#### 3.1.1 头部
- 包含应用标题
- 响应式设计，在不同设备上保持良好显示

#### 3.1.2 左侧控制面板
- **图片上传区域**
  - 文件选择按钮
  - 上传状态显示
  - 随机图片按钮

- **字幕样式控制区域**
  - 字幕高度调节
  - 字体大小调节
  - 字体颜色选择（带色彩选择器和十六进制输入）
  - 轮廓颜色选择（带色彩选择器和十六进制输入）
  - 字体样式选择
  - 字体粗细选择

- **字幕内容区域**
  - 多行文本输入框
  - 每行文本将作为单独的字幕行

- **操作按钮区域**
  - 生成字幕图片按钮
  - 保存图片按钮

#### 3.1.3 右侧预览区域
- 显示当前图片及字幕效果
- 实时更新样式变化
- 适应容器大小，保持图片比例

#### 3.1.4 页脚
- 版权信息
- 访问计数器

### 3.2 交互设计

#### 3.2.1 上传图片
- 点击"选择图片文件"按钮打开文件选择对话框
- 选择图片后，立即显示在预览区域
- 显示文件名作为状态提示

#### 3.2.2 获取随机图片
- 点击"获取随机图片"按钮
- 打开Unsplash弹窗，允许用户浏览Unsplash网站
- 用户可以在Unsplash中选择喜欢的图片
- 点击"使用当前图片"将选中的图片加载到应用中
- 如果因技术原因无法获取选择的图片，提供随机图片作为备选方案

#### 3.2.3 调整字幕样式
- 通过各控制组件调整字幕样式
- 调整后实时更新预览区域中的字幕样式

#### 3.2.4 生成字幕
- 输入字幕文本后，点击"生成字幕图片"按钮
- 系统将在预览区域显示带字幕的图片

#### 3.2.5 保存图片
- 点击"保存图片"按钮
- 系统将生成当前预览的图片
- 自动下载到用户设备

## 4. 技术规格

### 4.1 前端技术
- HTML5 用于页面结构
- CSS3 用于样式和动画
- JavaScript ES6+ 用于交互逻辑
- Canvas API 用于图片处理和字幕绘制

### 4.2 设计特性
- 响应式设计，适配不同设备
- 过渡动画增强用户体验
- 按钮点击波纹效果
- 组件加载动画

### 4.3 外部资源
- Unsplash API 用于获取随机图片
- 系统字体和本地字体

## 5. 更新日志

### v1.0 - 初始版本
- 基本图片上传功能
- 字幕添加和样式调整
- 保存功能

### v1.1 - UI优化
- 改进界面布局
- 添加宽高比选择功能
- 优化字幕样式
- 添加访问计数器

### v1.2 - 功能增强
- 优化实时渲染功能
- 添加水印功能
- UI配色方案更新

### v1.3 - 当前版本
- 移除宽高比功能，简化界面
- 优化字幕切割线，降低透明度和粗细
- 实现字幕在背景条中垂直居中
- 限制实时渲染功能仅用于格式调整模块
- 更新水印为"@Avis"，采用毛玻璃效果
- 修改随机图片为Unsplash弹窗选择方式
- 更新配色为莫兰迪配色方案
- 优化字幕行连接，移除间隙，使用细分割线

## 6. 未来计划

### 6.1 计划功能
- 添加图片滤镜选项
- 支持字幕位置自定义（顶部、中部、底部）
- 增加字幕动画效果
- 添加模板功能，保存用户常用设置
- 支持多语言界面

### 6.2 性能优化
- 优化大图片处理性能
- 提高移动设备上的响应速度 