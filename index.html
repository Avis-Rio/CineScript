<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图片字幕生成器 @Avis</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.png" type="image/png">
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <link rel="stylesheet" href="styles.css">
    <meta name="description" content="一个简单易用的图片字幕生成器，可以为图片添加多行字幕文本">
    <meta name="theme-color" content="#A6B1A9">
</head>
<body>
    <header>
        <h1>图片字幕生成器 @Avis</h1>
    </header>
    
    <main class="main-container">
        <!-- 左侧控制区域 -->
        <div class="controls-panel">
            <!-- 图片上传 -->
            <div class="control-section">
                <h3>上传图片</h3>
                <div class="file-upload-container">
                    <label for="imageUpload" class="file-upload-btn">选择图片文件</label>
                    <input type="file" id="imageUpload" accept="image/*">
                </div>
                <p class="upload-status" id="uploadStatus">未选择文件</p>
                <button id="randomImageBtn" class="action-btn secondary-btn random-image-btn">刷新随机图片</button>
            </div>
            
            <!-- 字幕设置 -->
            <div class="control-section">
                <h3>字幕样式</h3>
                
                <div class="setting-row">
                    <div class="setting-item">
                        <label>字幕高度</label>
                        <div class="input-with-unit">
                            <input type="number" id="subtitleHeight" value="40" min="10" max="100" class="realtime-update">
                            <span class="unit">px</span>
                        </div>
                    </div>
                    
                    <div class="setting-item">
                        <label>字体大小</label>
                        <div class="input-with-unit">
                            <input type="number" id="fontSize" value="20" min="10" max="50" class="realtime-update">
                            <span class="unit">px</span>
                        </div>
                    </div>
                </div>
                
                <div class="setting-row">
                    <div class="setting-item">
                        <label>字体颜色</label>
                        <div class="color-picker">
                            <input type="color" id="fontColor" value="#ffffff" class="realtime-update">
                            <input type="text" id="fontColorHex" value="#ffffff" class="color-hex realtime-update">
                        </div>
                    </div>
                    
                    <div class="setting-item">
                        <label>轮廓颜色</label>
                        <div class="color-picker">
                            <input type="color" id="outlineColor" value="#000000" class="realtime-update">
                            <input type="text" id="outlineColorHex" value="#000000" class="color-hex realtime-update">
                        </div>
                    </div>
                </div>
                
                <div class="setting-row">
                    <div class="setting-item">
                        <label>字体样式</label>
                        <select id="fontFamily" class="realtime-update">
                            <option value="system-ui">系统默认</option>
                            <option value="Arial, sans-serif">Arial</option>
                            <option value="'Microsoft YaHei', sans-serif">微软雅黑</option>
                            <option value="'SimHei', sans-serif">黑体</option>
                            <option value="'SimSun', serif">宋体</option>
                        </select>
                    </div>
                    
                    <div class="setting-item">
                        <label>字体粗细</label>
                        <select id="fontWeight" class="realtime-update">
                            <option value="normal">正常</option>
                            <option value="bold">粗体</option>
                            <option value="lighter">细体</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <!-- 字幕输入 -->
            <div class="control-section">
                <h3>字幕内容</h3>
                <textarea id="subtitlesInput" rows="6" placeholder="在此输入字幕文本，每行一个字幕..."></textarea>
            </div>
            
            <!-- 操作按钮 -->
            <div class="control-section compact-section">
                <div class="button-section">
                    <button id="applySubtitles" class="action-btn">生成字幕图片</button>
                    <button id="saveImage" class="action-btn secondary-btn">保存图片</button>
                </div>
            </div>
        </div>
        
        <!-- 右侧预览区域 -->
        <div class="preview-panel">
            <h3>预览</h3>
            <div class="preview-container">
                <div class="image-wrapper" id="imageWrapper">
                    <img id="displayImage" src="https://picsum.photos/1200/800" alt="图片展示区域" crossorigin="anonymous">
                    <div id="subtitlesContainer" class="subtitles-container"></div>
                </div>
            </div>
        </div>
    </main>
    
    <footer>
        <div class="copyright">
            © 2025 图片字幕生成器 | 使用HTML5 Canvas技术
        </div>
        <div class="hit-counter">
            hits: <span class="counter-value" id="visitCount">0</span>
        </div>
    </footer>
    
    <script src="script.js"></script>
</body>
</html> 